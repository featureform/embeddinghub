name: Integration Testing
on: push

jobs:
  typesense:
    name: Typesense Integration Test
    runs-on: ubuntu-latest
    container:
      image: typesense/typesense:0.22.2
      env:
        TYPESENSE_API_KEY: xyz
        TYPESENSE_DATA_DIR: /data
      ports:
        - 8108
      volumes:
        - /tmp/typesense-data:/data
    steps:
      - name: check os version
        run: cat /etc/os-release
      - name: Install Curl
        run: |
          sudo apt update
          sudo apt install curl
      - name: Health Check
        run: curl http://localhost:8108/health

